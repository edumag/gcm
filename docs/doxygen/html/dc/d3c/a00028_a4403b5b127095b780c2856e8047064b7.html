<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gcm: Galeria\subir_imagen</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="../../search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="gcm"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">gcm
   &#160;<span id="projectnumber">3</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generado por Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Buscar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Página&#160;principal</span></a></li>
      <li><a href="../../pages.html"><span>Páginas&#160;relacionadas</span></a></li>
      <li><a href="../../modules.html"><span>Módulos</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Estructuras&#160;de&#160;Datos</span></a></li>
      <li><a href="../../files.html"><span>Archivos</span></a></li>
      <li><a href="../../dirs.html"><span>Directorios</span></a></li>
      <li><a href="../../examples.html"><span>Ejemplos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="../../search.php" method="get">
              <img id="MSearchSelect" src="../../search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Buscar" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../dc/d3c/a00028.html">Galeria</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a2f187e6d24118717fa31c1d1140b37e5.html#a2f187e6d24118717fa31c1d1140b37e5">$altura_max</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a4a293d138e500902101f5b819574cd93.html#a4a293d138e500902101f5b819574cd93">$altura_presentacio</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_aea7066d69b73542d5536532bcc635ea8.html#aea7066d69b73542d5536532bcc635ea8">$amplada_boto_file</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a7f2fa423a10631fc0eb831248841217c.html#a7f2fa423a10631fc0eb831248841217c">$amplada_presentacio</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a6c052d00fb3631de60ad61b99b2903af.html#a6c052d00fb3631de60ad61b99b2903af">$amplaria_max</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ac5d022d0b27a215d65a0ee1983a124c4.html#ac5d022d0b27a215d65a0ee1983a124c4">$color_bord</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a71b02df76faa5dbe0471a37717a440d2.html#a71b02df76faa5dbe0471a37717a440d2">$contingut_enllac_borrar</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ab8230a780b7e63aa8bcefd664331004f.html#ab8230a780b7e63aa8bcefd664331004f">$dir_tmp</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a0336236b3e844baa1dd7d5226c9f6264.html#a0336236b3e844baa1dd7d5226c9f6264">$grandaria_max</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ab5a773372c56a863ff29b6d75777495b.html#ab5a773372c56a863ff29b6d75777495b">$imatge_espera</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_aa14cbbb241899d691309052c35a7ce35.html#aa14cbbb241899d691309052c35a7ce35">$js_post_esborra</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ab7d3c1d492165e1ea92b11a2c78ae322.html#ab7d3c1d492165e1ea92b11a2c78ae322">$js_post_pujada</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_abd0d0910828761dab74fc527a9d72fc3.html#abd0d0910828761dab74fc527a9d72fc3">$limit_imatges</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a7fd243d1be16552e82e319a146f6d782.html#a7fd243d1be16552e82e319a146f6d782">$sufijo</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ac5535ae39dcb4f9b04c837c64d36a970.html#ac5535ae39dcb4f9b04c837c64d36a970">$url_raiz</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a51e67a6b0a9831f5559224d07a21d7d6.html#a51e67a6b0a9831f5559224d07a21d7d6">__construct</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a7b063d950327d1d28b2ed8a1aa8e97e7.html#a7b063d950327d1d28b2ed8a1aa8e97e7">addItem</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_af847ad5a03a80ce71d323b992d85e8fb.html#af847ad5a03a80ce71d323b992d85e8fb">caixa_galeria</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ade72de5c10a25be8d2b9f373507e5e0a.html#ade72de5c10a25be8d2b9f373507e5e0a">caixa_missatges</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_ad27268b4731f109d8a9206738c9b3b6d.html#ad27268b4731f109d8a9206738c9b3b6d">guardar</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a41034d809dc3a3736416db60b06a357f.html#a41034d809dc3a3736416db60b06a357f">inicia</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a0e0e64c3f64d9ae2c37510fc845fbf6c.html#a0e0e64c3f64d9ae2c37510fc845fbf6c">presentaGaleria</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a38037b2b981dd0c20b0c8462bfa6cd03.html#a38037b2b981dd0c20b0c8462bfa6cd03">presentaImatgeEditar</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../dc/d3c/a00028_a2fe70a38b0c630c9280a7d6cd0e1deae.html#a2fe70a38b0c630c9280a7d6cd0e1deae">removeItem</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="../../dc/d3c/a00028_a4403b5b127095b780c2856e8047064b7.html#a4403b5b127095b780c2856e8047064b7">subir_imagen</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a class="anchor" id="a4403b5b127095b780c2856e8047064b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d3c/a00028_a4403b5b127095b780c2856e8047064b7.html#a4403b5b127095b780c2856e8047064b7">subir_imagen</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Subir imagen a directorio temporal. </p>
<p>&lt; Nombre de miniatura</p>
<p>&lt; Forçar imatge a l'altura establerta</p>
<p>&lt; Forçar imatge a l'amplària establerta</p>
<p>tenim una imatge per pujar </p>

<p>Definición en la línea <a class="el" href="../../d4/d3a/a00101_source.html#l00153">153</a> del archivo <a class="el" href="../../d4/d3a/a00101_source.html">Galeria.php</a>.</p>

<p>Hace referencia a <a class="el" href="../../d4/d3a/a00101_source.html#l00058">$altura_max</a> y <a class="el" href="../../d4/d3a/a00101_source.html#l00057">$amplaria_max</a>.</p>

<p>Referenciado por <a class="el" href="../../d4/d3a/a00101_source.html#l00424">inicia()</a>.</p>
<div class="fragment"><pre class="fragment">                           {

      <span class="keywordflow">if</span> ( ! file_exists($this-&gt;dir_tmp)  ) {
         $this-&gt;errores[] = <span class="stringliteral">&quot;Sin directorio temporal para imágenes [&quot;</span>.$this-&gt;dir_tmp.<span class="stringliteral">&quot;]&quot;</span>;
         <span class="keywordflow">return</span> FALSE;
         }

      <span class="comment">/* Paràmetres enviats des del formulari */</span>

      $nIdThumb   = $_POST[<span class="stringliteral">&quot;nummin&quot;</span>];     <span class="comment">///&lt; Nombre de miniatura</span>
<span class="comment"></span>      $altura     = <a class="code" href="../../dc/d3c/a00028_a2f187e6d24118717fa31c1d1140b37e5.html#a2f187e6d24118717fa31c1d1140b37e5" title="Altura max.">$this-&gt;altura_max</a>;                  <span class="comment">///&lt; Forçar imatge a l&#39;altura establerta</span>
<span class="comment"></span>      $amplaria   = <a class="code" href="../../dc/d3c/a00028_a6c052d00fb3631de60ad61b99b2903af.html#a6c052d00fb3631de60ad61b99b2903af" title="Amplària maxima.">$this-&gt;amplaria_max</a>;                <span class="comment">///&lt; Forçar imatge a l&#39;amplària establerta</span>
<span class="comment"></span><span class="comment"></span>
<span class="comment">      /** tenim una imatge per pujar */</span>

      $fFileTmpName  = $_FILES[<span class="stringliteral">&#39;fimatge&#39;</span>][<span class="stringliteral">&#39;tmp_name&#39;</span>];
      $fFileName     = $_FILES[<span class="stringliteral">&#39;fimatge&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>];
      $fFileSize     = $_FILES[<span class="stringliteral">&#39;fimatge&#39;</span>][<span class="stringliteral">&#39;size&#39;</span>];
      $fFileType     = $_FILES[<span class="stringliteral">&#39;fimatge&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>];
      $fFileError    = $_FILES[<span class="stringliteral">&#39;fimatge&#39;</span>][<span class="stringliteral">&#39;error&#39;</span>];

      <span class="keywordflow">if</span> ($fFileError==4){ <span class="comment">//No s&#39;ha pujat cap fitxer</span>

         $fFileTmpName  = null;
         $fFileName     = null;
         $fFileSize     = null;
         $fFileType     = null;

         $this-&gt;errores[]  = <span class="stringliteral">&quot;No ha seleccionat cap fitxer&quot;</span>;
         <span class="keywordflow">return</span> FALSE;

      } <span class="keywordflow">else</span> {

         <span class="comment">// *** Control de errores</span>
         <span class="keywordflow">if</span> ($fFileError&gt;0){

             <span class="keywordflow">switch</span> ($fFileError){

               <span class="keywordflow">case</span> 1:  <span class="comment">// ** Mida més gran que limit al php.ini (upload_max_filesize)</span>
                  $this-&gt;errores[]  = <span class="stringliteral">&quot;El fitxer no pot superar les &quot;</span>.$_POST[<span class="stringliteral">&#39;MAX_FILE_SIZE&#39;</span>].<span class="stringliteral">&quot; bytes&quot;</span>;
               <span class="keywordflow">break</span>;

               <span class="keywordflow">case</span> 2:  <span class="comment">// ** Mida més gran que MAX_FILE_SIZE</span>
                  <span class="keywordflow">if</span> ( $_POST[<span class="stringliteral">&#39;MAX_FILE_SIZE&#39;</span>] ) {
                     $this-&gt;errores[]  = <span class="stringliteral">&quot;El fitxer no pot superar les &quot;</span>.$_POST[<span class="stringliteral">&#39;MAX_FILE_SIZE&#39;</span>].<span class="stringliteral">&quot; bytes&quot;</span>;
                  } <span class="keywordflow">else</span> {
                     $this-&gt;errores[] = <span class="stringliteral">&#39;El fitxer a superat el pes permès pel servidor&#39;</span>;
                  }
               <span class="keywordflow">break</span>;

               <span class="keywordflow">case</span> 3:  <span class="comment">// ** Upload interrumput (parcial)</span>
                  $this-&gt;errores[]  = <span class="stringliteral">&quot;S&#39;ha produit un error en el procés d&#39;upload&quot;</span>;
               <span class="keywordflow">break</span>;

             }

         } <span class="keywordflow">else</span> {

            <span class="comment">// *** Control de seguridad</span>
            <span class="keywordflow">if</span> (!is_uploaded_file($fFileTmpName)){

               $this-&gt;errores[]  = <span class="stringliteral">&quot;S&#39;ha produit un error en el procés d&#39;upload del fitxer. Possible intent d&#39;accès no autoritzat al servidor&quot;</span>;

            } <span class="keywordflow">else</span> {

               $vDatosImg = @getimagesize($_FILES[<span class="stringliteral">&#39;fimatge&#39;</span>][<span class="stringliteral">&#39;tmp_name&#39;</span>]);


               <span class="keywordflow">if</span> (!$vDatosImg) {

                  $this-&gt;errores[] = <span class="stringliteral">&#39;Error llegint informació d\&#39;imatge&#39;</span>;

               } <span class="keywordflow">else</span> {

                  <span class="keywordflow">if</span> (isset($vDatosImg[<span class="stringliteral">&#39;mime&#39;</span>])) {
                     $sTipo = $vDatosImg[<span class="stringliteral">&#39;mime&#39;</span>];
                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(isset($vDatosImg[2])) {
                      $sTipo = image_type_to_mime_type($vDatosImg[2]);
                  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($iTipo)) {
                      $sTipo = image_type_to_mime_type($iTipo);
                  }

                  <span class="keywordflow">if</span> ( !$sTipo ) {

                     $this-&gt;errores[] = <span class="stringliteral">&#39;Error llegint informació d\&#39;imatge: mime&#39;</span>;

                  } <span class="keywordflow">else</span> {

                     <span class="keywordflow">switch</span>($sTipo){
                        <span class="keywordflow">case</span> <span class="stringliteral">&quot;image/gif&quot;</span>:
                           $fuente = imagecreatefromgif($fFileTmpName) or
                              $this-&gt;errores[] = &#39;Error treballant amb format d\&#39;imatge gif, provi amb altre format&#39;;
                           break;
                        case &quot;image/jpeg&quot;:
                           $fuente = imagecreatefromjpeg($fFileTmpName) or
                              $this-&gt;errores[] = &#39;Error treballant amb format d\&#39;imatge jpeg, provi amb altre format&#39;;
                           break;
                        case &quot;image/png&quot;:
                           $fuente = imagecreatefrompng($fFileTmpName) or
                              $this-&gt;errores[] = &#39;Error treballant amb format d\&#39;imatge png, provi amb altre format&#39;;
                           break;
                        default:
                           $this-&gt;errores[] = &#39;Error treballant amb format d\&#39;imatge &#39;.$sTipo.&#39;, provi amb altre format&#39;;
                           break;
                        }


                     if ( empty($this-&gt;errores) ) {

                        $amplaria_imatge  = $vDatosImg[0];
                        $altura_imatge = $vDatosImg[1];

                        <span class="comment">/* Deduïm si hem de transformar depenent dels paràmetres rebuts */</span>

                        $transformacio = FALSE;

                        <span class="keywordflow">if</span> ( !empty($amplaria) &amp;&amp; empty($altura) ) {

                           <span class="comment">// Volem imatge amb altura fixada</span>
                           $altura  = $altura_imatge * $amplaria / $amplaria_imatge ;
                           $transformacio = TRUE;

                        } elseif ( !empty($altura) &amp;&amp; empty($amplaria) ) {

                           <span class="comment">// Volem imatge amb amplària fixada</span>
                           $amplaria = $amplaria_imatge * $altura / $altura_imatge ;
                           $transformacio = TRUE;

                        } elseif ( !empty($altura) &amp;&amp; !empty($amplaria) ) {

                           <span class="comment">// Volem imatge amb amplària i altura fixada</span>
                           $transformacio = TRUE;

                        }

                        <span class="comment">/* Transformen nomes si es mes gran */</span>

                        <span class="keywordflow">if</span> ( $transformacio &amp;&amp; ( $amplaria_imatge &gt; $amplaria || $altura_imatge &gt; $altura ) ) {

                           $nova_imatge= ImageCreateTrueColor($amplaria, $altura)
                             or $nova_imatge=ImageCreate($amplaria, $altura);

                           ImageCopyResized($nova_imatge,$fuente,0,0,0,0,$amplaria,$altura,$amplaria_imatge,$altura_imatge);

                           <span class="comment">/*</span>
<span class="comment">                            * Un tercer parametro podemos definir la calidad</span>
<span class="comment">                            * que es de 0 a 100 siendo 100 la max calidad.</span>
<span class="comment">                            * Por defecto es 75.</span>
<span class="comment">                            * imagejpeg($nova_imatge,$fFileTmpName);</span>
<span class="comment">                            */</span>

                           <span class="comment">/* Se pinta la imagen según el tipo */</span>

                            switch($sTipo){
                                <span class="keywordflow">case</span> <span class="stringliteral">&quot;image/gif&quot;</span>:
                                    imagegif($nova_imatge,$fFileTmpName);
                                    <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> <span class="stringliteral">&quot;image/jpeg&quot;</span>:
                                    imagejpeg($nova_imatge,$fFileTmpName, 100);
                                    <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> <span class="stringliteral">&quot;image/png&quot;</span>:
                                    imagepng($nova_imatge,$fFileTmpName, 9);
                                    <span class="keywordflow">break</span>;
                                <span class="keywordflow">default</span>:
                                    $this-&gt;errores[] = <span class="stringliteral">&#39;Error treballant amb format d\&#39;imatge &#39;</span>.$sTipo.<span class="stringliteral">&#39;, provi amb altre format&#39;</span>;
                                    <span class="keywordflow">break</span>;
                            }

                           $fLogoSize  = filesize($fFileTmpName);

                        }

                       <span class="comment">//  la imatge es guarda en directori temporal</span>
                       $nom_imatge = $fFileName ;
                       $src_img = $this-&gt;dir_tmp.$nom_imatge;

                       <span class="keywordflow">if</span> ( ! rename($fFileTmpName,$src_img) ) {
                          $this-&gt;errores[] = <span class="stringliteral">&#39;No se pudo guardar imagen en directorio temporal&#39;</span>;
                           }
                        }
                     }
                  }
               }

            }

         }

      $src_img = ( isset($src_img) ) ? $src_img : <span class="stringliteral">&#39;&#39;</span>;

      ?&gt;
      &lt;!DOCTYPE html PUBLIC <span class="stringliteral">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="stringliteral">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;
      &lt;html xmlns=<span class="stringliteral">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;
      &lt;head&gt;
      &lt;title&gt;&lt;/title&gt;
      &lt;meta http-equiv=<span class="stringliteral">&quot;Content-Type&quot;</span> content=<span class="stringliteral">&quot;text/html; charset=iso-8859-1&quot;</span>&gt;
      &lt;/head&gt;

      &lt;script language=<span class="stringliteral">&quot;JavaScript&quot;</span>&gt;

         <span class="keywordflow">if</span> (document.images) {
            thumbIO = <span class="keyword">new</span> Image();
            thumbIO.src=<span class="stringliteral">&#39;&lt;?php echo $this-&gt;url_raiz.$src_img;?&gt;&#39;</span>;
         }

         <span class="keyword">function</span> showResult(){

           &lt;?php <span class="keywordflow">if</span> (empty($this-&gt;errores)) { ?&gt;

               <span class="comment">/* Canviar el src del darrer thumbnail */</span>
               oThumb      =  parent.document.getElementById(<span class="stringliteral">&#39;thumbIMG&lt;?php echo $nIdThumb;?&gt;&#39;</span>);

               oThumb.src  =  thumbIO.src;

               <span class="comment">// Afegim nom d&#39;imatge a formulari</span>

               var input_imatge = document.createElement(<span class="stringliteral">&#39;input&#39;</span>);
               input_imatge.name = <span class="stringliteral">&#39;imatges_formulari[]&#39;</span>;
               input_imatge.value = thumbIO.src;
               input_imatge.type = <span class="stringliteral">&#39;text&#39;</span>;
               input_imatge.style.display = <span class="stringliteral">&#39;none&#39;</span>;
               oThumb.appendChild(input_imatge);


               oThumbButton         = parent.document.getElementById(<span class="stringliteral">&#39;buttonDIV&lt;?php echo $nIdThumb;?&gt;&#39;</span>);
               oThumbButton.innerHTML  = <span class="stringliteral">&#39;&lt;a href=\&quot;javascript:esborrarImatge(\&#39;&lt;?=$this-&gt;sufijo?&gt;\&#39;,&lt;?php echo $nIdThumb;?&gt;);\&quot;&gt;&lt;?=$this-&gt;contingut_enllac_borrar?&gt;&lt;/a&gt;&#39;</span>;

           &lt;?php } <span class="keywordflow">else</span> { ?&gt;

              <span class="comment">//** Mostrar missatge d&#39;error</span>
              &lt;?php <span class="keywordflow">foreach</span> ( $this-&gt;errores as $error ) { ?&gt;
              parent.showMessageBoard(<span class="stringliteral">&#39;&lt;?php echo addslashes($error);?&gt;&#39;</span>);
              &lt;?php } ?&gt;

              <span class="comment">//** Esborrar darrer thumbnail</span>
              oThumb    = parent.document.getElementById(<span class="stringliteral">&#39;thumbDIV&lt;?php echo $nIdThumb;?&gt;&#39;</span>);
              oThumb.style.display  = <span class="stringliteral">&#39;none&#39;</span>;

              parent.document.getElementById(<span class="stringliteral">&#39;&lt;?=$this-&gt;sufijo?&gt;fimatge&#39;</span>).style.display = <span class="stringliteral">&#39;block&#39;</span>;

           &lt;?php } ?&gt;

         }

         window.onload  =  showResult;

      &lt;/script&gt;

      &lt;body&gt;
      &lt;?php
      <span class="keywordflow">if</span> ( empty($this-&gt;errores) ) {
        echo <span class="stringliteral">&#39;&lt;img src=&quot;&#39;</span>.$this-&gt;url_raiz.$src_img.<span class="stringliteral">&#39;&quot;/&gt;&#39;</span>;
      } <span class="keywordflow">else</span> {
         <span class="keywordflow">foreach</span> ( $this-&gt;errores as $error ) echo <span class="stringliteral">&#39;&lt;br /&gt;- &#39;</span>.$error;
        }
      ?&gt;

      &lt;/body&gt;
      &lt;/html&gt;
      &lt;?php
      exit();

      }
</pre></div>
</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generado el Jueves, 22 de Noviembre de 2012 18:21:36 para gcm por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>

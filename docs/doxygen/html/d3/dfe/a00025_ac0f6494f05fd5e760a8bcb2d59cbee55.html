<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gcm: Eventos\lanzar_accion_modulo</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="../../search-opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="gcm"/>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">gcm
   &#160;<span id="projectnumber">3</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generado por Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Buscar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Página&#160;principal</span></a></li>
      <li><a href="../../pages.html"><span>Páginas&#160;relacionadas</span></a></li>
      <li><a href="../../modules.html"><span>Módulos</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Estructuras&#160;de&#160;Datos</span></a></li>
      <li><a href="../../files.html"><span>Archivos</span></a></li>
      <li><a href="../../dirs.html"><span>Directorios</span></a></li>
      <li><a href="../../examples.html"><span>Ejemplos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="../../search.php" method="get">
              <img id="MSearchSelect" src="../../search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Buscar" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d3/dfe/a00025.html">Eventos</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a0449466b42e888dd50c0ba6942883e82.html#a0449466b42e888dd50c0ba6942883e82">$cEventos</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a2d59e92ea67edd94958634ecc6d75e0f.html#a2d59e92ea67edd94958634ecc6d75e0f">$eventos</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a770d8c96395831a1bcd81e155322dc6b.html#a770d8c96395831a1bcd81e155322dc6b">$instancias</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_ab560df5656d57dea3fda225bd593d77d.html#ab560df5656d57dea3fda225bd593d77d">$ubicaciones</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a1015a2e5fbc6cbba40f48dad8d26942b.html#a1015a2e5fbc6cbba40f48dad8d26942b">__construct</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a3f5870edb9b40af1d3a3b1a9096c512e.html#a3f5870edb9b40af1d3a3b1a9096c512e">accion2evento</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a681b9faef2a7086bf765decbfa5cf8a1.html#a681b9faef2a7086bf765decbfa5cf8a1">anulado</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a70e8eaee58e0486e5f6d836e77970bba.html#a70e8eaee58e0486e5f6d836e77970bba">anular</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_adb1ccbd69ccbaaaf5738c01b1479d379.html#adb1ccbd69ccbaaaf5738c01b1479d379">instancia_modulo</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="../../d3/dfe/a00025_ac0f6494f05fd5e760a8bcb2d59cbee55.html#ac0f6494f05fd5e760a8bcb2d59cbee55">lanzar_accion_modulo</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_ae42fa28f97b04414d7993d3a10cacebb.html#ae42fa28f97b04414d7993d3a10cacebb">lanzarEvento</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_af726f87bbae5dbe4cb1954f280583fa1.html#af726f87bbae5dbe4cb1954f280583fa1">leer_eventos</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_aac004003985747d7fa1b96565fc2f57d.html#aac004003985747d7fa1b96565fc2f57d">unico</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="../../d3/dfe/a00025_a609fcdfe8f696ed933a9ee68c930e8b1.html#a609fcdfe8f696ed933a9ee68c930e8b1">verificar_evento</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a class="anchor" id="ac0f6494f05fd5e760a8bcb2d59cbee55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dfe/a00025_ac0f6494f05fd5e760a8bcb2d59cbee55.html#ac0f6494f05fd5e760a8bcb2d59cbee55">lanzar_accion_modulo</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>e</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>args</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lanzar acción de módulo. </p>
<p>Buscamos módulo segun ubicacinoes encontradas desde los archivos de eventos_usuario y eventos_admin, pero como se puede dar el caso de que no exista tal ubicación registrada por no tener eventos prefijados, hacemos una comprobación antes, en caso de negación buscamos en módulos de proyectos y por último lugar en módulos de gcm.</p>
<p>En caso de estar logeados se buscara si tenemos un archivo con nombre modulos/lib/ModuloAdmin.php, si es así lo utilizamos, con ello conseguimos poder separar las clases segun usuario o administración reduciendo la carga de la aplicación.</p>
<dl class="params"><dt><b>Parámetros:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$m</td><td>Nombre del directorio del módulo </td></tr>
    <tr><td class="paramname">$a</td><td>Método de módulo </td></tr>
    <tr><td class="paramname">$e</td><td>Evento que lo llama </td></tr>
    <tr><td class="paramname">$args</td><td>Argumentos </td></tr>
  </table>
  </dd>
</dl>

<p>Definición en la línea <a class="el" href="../../d7/d70/a00106_source.html#l00502">502</a> del archivo <a class="el" href="../../d7/d70/a00106_source.html">Eventos.php</a>.</p>

<p>Hace referencia a <a class="el" href="../../d4/d63/a00082_source.html#l00027">$gcm</a>, <a class="el" href="../../dd/d42/a00109_source.html#l00262">depurar()</a> y <a class="el" href="../../d7/d70/a00106_source.html#l00415">instancia_modulo()</a>.</p>

<p>Referenciado por <a class="el" href="../../d7/d70/a00106_source.html#l00273">lanzarEvento()</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {

      global <a class="code" href="../../d4/d63/a00082_a19a0c049e76bf73f0a16f04e31cfbe86.html#a19a0c049e76bf73f0a16f04e31cfbe86" title="Instancia de Gcm.">$gcm</a>;

      <span class="keywordflow">if</span> ( $this-&gt;<a class="code" href="../../d3/dfe/a00025_adb1ccbd69ccbaaaf5738c01b1479d379.html#adb1ccbd69ccbaaaf5738c01b1479d379" title="Devolver instancia de un módulo, nos permite interactuar entre componentes sin reacrgar la aplicación...">instancia_modulo</a>($m) ) {

         <span class="keywordflow">if</span> ( method_exists($this-&gt;instancias[$m], $a ) ) {

            registrar(__FILE__,__LINE__,$m.<span class="stringliteral">&#39;-&gt;&#39;</span>.$a.<span class="charliteral">&#39;(&#39;</span>.$e.<span class="charliteral">&#39;,&#39;</span>.$args.<span class="stringliteral">&#39;);&#39;</span>);
            <span class="comment">/* Si estamos en debug calculamos tiempo de ejecución de la acción */</span>
            <span class="keywordflow">if</span> ( GCM_DEBUG ) $tiempo_inicio = microtime(TRUE);
            <span class="keywordflow">if</span> ( $this-&gt;instancias[$m]-&gt;$a($e,$args) === FALSE )  {
               trigger_error(<span class="stringliteral">&#39;Eventos-&gt;lanzar_accion_modulo(&#39;</span>.$m.<span class="charliteral">&#39;,&#39;</span>.$a.<span class="charliteral">&#39;,&#39;</span>.$e.<span class="charliteral">&#39;,&#39;</span>.$args.<span class="stringliteral">&#39;) Error al lanzar evento&#39;</span>, E_USER_ERROR);
               }
            <span class="keywordflow">if</span> ( GCM_DEBUG ) $tiempo_total = microtime(TRUE)-$tiempo_inicio;
            <span class="keywordflow">if</span> ( GCM_DEBUG ) registrar(__FILE__,__LINE__,<span class="stringliteral">&#39;Tiempo de ejecución de &#39;</span>.$m.<span class="stringliteral">&#39;-&gt;&#39;</span>.$a.<span class="charliteral">&#39;(&#39;</span>.$e.<span class="charliteral">&#39;,&#39;</span>.<a class="code" href="../../dd/d42/a00109_a7031d9d8dc6290aa33d665d7daced6c8.html#a7031d9d8dc6290aa33d665d7daced6c8" title="Formatemaos salida de array.">depurar</a>($args).<span class="stringliteral">&#39;): (&#39;</span>.$tiempo_total.<span class="charliteral">&#39;)&#39;</span>); 


         } <span class="keywordflow">else</span> {
            
            <span class="keywordflow">if</span> ( isset($a) &amp;&amp; !empty($a) ) {
               trigger_error(<span class="stringliteral">&#39;Eventos-&gt;lanzar_accion_modulo(&#39;</span>.$m.<span class="charliteral">&#39;,&#39;</span>.$a.<span class="charliteral">&#39;,&#39;</span>.$e.<span class="charliteral">&#39;,&#39;</span>.$args.<span class="stringliteral">&#39;) Acción no reconocida&#39;</span>);
            } <span class="keywordflow">else</span> {
               trigger_error(<span class="stringliteral">&#39;Eventos-&gt;lanzar_accion_modulo(&#39;</span>.$m.<span class="charliteral">&#39;,&#39;</span>.$a.<span class="charliteral">&#39;,&#39;</span>.$e.<span class="charliteral">&#39;,&#39;</span>.$args.<span class="stringliteral">&#39;) Sin acción definida&#39;</span>, E_USER_ERROR);
               }

            }

      } <span class="keywordflow">else</span> {
         trigger_error(<span class="stringliteral">&#39;Eventos-&gt;lanzar_accion_modulo(&#39;</span>.$m.<span class="charliteral">&#39;,&#39;</span>.$a.<span class="charliteral">&#39;,&#39;</span>.$e.<span class="charliteral">&#39;,&#39;</span>.$args.<span class="stringliteral">&#39;) Módulo no reconocido&#39;</span>, E_USER_ERROR);
         }

      }
</pre></div>
</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generado el Jueves, 22 de Noviembre de 2012 18:21:36 para gcm por &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>

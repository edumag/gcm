<p>Para solucionar que los enlaces relativos no muestren las im&aacute;genes al ser llamado el contenido desde ajax, debemos convertirlos a enlaces absolutos.</p>
<p>Aqu&iacute; una muestra de como se hace desde el m&oacute;dulo contenido, que si es llamado con el formato ajax, antes de entregar el contenido hara la conversi&oacute;n.</p>
<pre>   function contenido($e, $args) {<br /><br />      registrar(__FILE__,__LINE__,__CLASS__.'-&gt;'.__FUNCTION__.'('.$e.','.$args.')');<br /><br />      global $gcm;<br /><br />      /* Si se pide en otro idioma que no es el predeterminado y no lo tenemos */<br /><br />      if ( Router::$sin_traduccion ) {<br />         registrar(__FILE__,__LINE__,literal('Contenido pendiente de traducci&oacute;n',3),'AVISO');<br />         }<br /><br />      $contenido = $this-&gt;devolver_contenido(Router::$f);<br /><br />      // si el formato es ajax deberiamos convertir los enlaces relativos en absolutos<br /><br />      if ( Router::$formato == 'ajax'  ) {<br /><br />         $base = dirname(Router::$url).'/';<br /><br />         $buffer = $contenido;<br /><br />         $patron = '/src=["\'](.*?)["\']/';<br />         $sustitucion = 'src="'.$base.'${1}"';<br />         $buffer = preg_replace($patron, $sustitucion, $buffer,-1,$numero);<br /><br />         registrar(__FILE__,__LINE__,__CLASS__.'-&gt;'.__FUNCTION__.'('.$e.','.depurar($args).') Numero de sustituciones: '.$numero );<br />         $gcm-&gt;contenido=$buffer;<br /><br />      } else {<br />         echo $contenido;<br />         }<br /><br />      }<br /></pre>
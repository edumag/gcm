<div>
<p>Pasos a seguir para la creaci&oacute;n de un m&oacute;dulo.</p>
<p>Los m&oacute;dulos propios de gcm se encuentran en la carpeta gcm/modulos/gcm, Todos los m&oacute;dulos siguen un comportamiento peculiar, que se debe entender para la realizaci&oacute;n o modificaci&oacute;n.</p>
<div>
<h1>Ficheros esenciales para que un m&oacute;dulo funcione</h1>
<dl class="docutils"><dt>info.php</dt><dd>Informaci&ccedil;on del m&oacute;dulo.</dd><dt>eventos_admin.php</dt><dd>Array con los eventos y sus acciones para el administrador.</dd><dt>eventos_usuario.php</dt><dd>Array con los eventos y sus acciones para el usuario.</dd><dt>html</dt><dd>Plantillas html.</dd><dt>index.php</dt><dd>Recoge las acciones a realizar.</dd></dl></div>
<div>
<h1>Archivos de m&oacute;dulo</h1>
<div class="section">
<h2>info.php</h2>
<p>Informaci&oacute;n de m&oacute;dulos, aqu&iacute; pondremos la informaci&oacute;n general sobre el mismo, pudiendo especificar el contenido en diferentes idiomas:</p>
<pre class="literal-block">$nombre_modulo['descripcion']="Descripci&oacute;n del m&oacute;dulo";
$nombre_modulo['version']="0.1";
$nombre_modulo['nombre']['es']="Nombre del m&oacute;dulo";
$nombre_modulo['nombre']['ca']="Nom modul";
$nombre_modulo['title']['es']="Peque&ntilde;a descripci&oacute;n de m&oacute;dulo";
$nombre_modulo['title']['ca']="Petita descripcio de modul";
</pre>
</div>
<div>
<h3>eventos_usuario.php, eventos_admin.php y eventos_root.php</h3>
<p>Los archivos de eventos especifican sobre que evento debe lanzarse una acci&oacute;n del m&oacute;dulo, su forma es:</p>
<pre class="literal-block">$eventos[&lt;evento&gt;][&lt;acci&oacute;n&gt;]='&lt;prioridad&gt;|&lt;argumentos&gt;';
</pre>
<p>Ejemplo para el m&oacute;dulo indexador:</p>
<pre class="literal-block">&lt;?php
   $eventos['columna']['formulario_busqueda']='1';
   $eventos['columna']['ultimas_entradas']="2|num=7&amp;seccion=".Router::get_estamos()."&amp;formato=1";
   $eventos['contenido_dinamico']['contenido_dinamico']='1|';
   $eventos['precarga']['presentar_busquedas']=3;
?&gt;
</pre>
</div>
<div>
<h3>menuAdmin.php</h3>
<p>En caso de que queramos que el modulo tenga una entrada en el men&uacute; de administraci&oacute;n.</p>
<p>Podremos especificar en que pesta&ntilde;a del mismo y que archivo debe cargarse:</p>
<pre class="literal-block">$menuAdmin['lugar_modulo']['mod']['nombre_modulo']['activado']=1;
$menuAdmin['lugar_modulo']['mod']['nombre_modulo']['nombre']="Nombre del m&oacute;dulo";
$menuAdmin['lugar_modulo']['mod']['nombre_modulo']['title']="descripci&oacute;n de m&oacute;dulo";
$menuAdmin['lugar_modulo']['mod']['nombre_modulo']['link']="?m=nombre_modulo";
</pre>
<p>Opciones:</p>
<blockquote>
<ul>
<li><dl class="first docutils"><dt>lugar_modulo: secci&oacute;n del men&uacute; en la que queremos que salga el bot&oacute;n. Posibilidades;</dt><dd>
<ul class="first last simple">
<li>admin: Administraci&oacute;n</li>
<li>conf: Configuraci&oacute;n</li>
<li>seguimiento: Seguimiento</li>
<li>Otra diferente.</li>
</ul>
</dd></dl></li>
<li>
<p class="first">activado: Para permitir desactivar el m&oacute;dulo.</p>
</li>
<li>
<p class="first">nombre del m&oacute;dulo: Literal que se presentara en el bot&oacute;n.</p>
</li>
<li>
<p class="first">descripci&oacute;n: Literal que se presentara en title del enlace.</p>
</li>
<li>
<p class="first">link: Enlace que active el m&oacute;dulo.</p>
</li>
</ul>
</blockquote>
</div>
</div>
<div>
<h2>Informaci&oacute;n de la aplicaci&oacute;n</h2>
<p>La clase Router nos permite saber informaci&oacute;n de la acci&oacute;n o lugar actual.</p>
<p>sus m&eacute;todos son:</p>
<pre class="literal-block">/** Devolver la ruta hacia el directorio base del proyecto */
Router::get_dir(){

/** Se quiere presentar contenido o no TRUE/FALSE */
Router::get_sin_contenido(){

/** Devolver la url recibida */
Router::get_url()

/** Devolver directorio del contenido por defecto, depender&aacute; del idioma por defecto, ejemplo File/es  */
Router::get_dd()

/** Devolver el directorio de contenido seg&uacute;n idioma seleccionado, ejemplo File/ca */
Router::get_d()

/** Devolver la secci&oacute;n actual */
Router::get_s()

/** Devolver el nombre del contenido */
Router::get_c()

/** Devolver la ruta completa del contenido, ejemplo: FIle/es/Documentacion/contenido.html */
Router::get_f()

/** Devolver el nombre del m&oacute;dulo  */
Router::get_m()

/** Devolver la accion que se pide realizar */
Router::get_a()

/** Devolver el idioma actual */
Router::get_i()

/** Devolver el idioma por defecto */
Router::get_ii()

/** Devolver el nombre de la secci&oacute;n actual sin las secciones padres */
Router::get_estamos()

/** Devolver si estamos editando o viendo */
Router::get_editar()

/** Devolver el tipo mime del archivo */
Router::get_mime_type()
</pre>
</div>
<div class="section">&nbsp;</div>
</div>